<!DOCTYPE html>
<html lang="ar">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุฅุฏุงุฑุฉ ุงููุถุงูุง - ุงูุฃุฑุดูู</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body id="pageArchive">
    <header>
        <div class="header-info-bar">
            <div id="currentDateDisplay" class="info-date"></div>
            <div id="tasbeehDisplay" class="info-tasbeeh"></div>
        </div>
<h1>ูุธุงู ุฅุฏุงุฑุฉ ุงููุถุงูุง ุงููุงููููุฉ ููุฃุณุชุงุฐ: <span class="professor-name">ุจู ุฏุงูุฏ ุจุฑุงููู</span></h1>
        <nav class="main-nav">
            <a href="index.html" class="nav-link">ุงููุถุงูุง ุงููุดุทุฉ</a>
            <a href="featured.html" class="nav-link">โญ ุงููููุฒุฉ</a>
            <a href="archive.html" class="nav-link active">๐ฆ ุงูุฃุฑุดูู</a>
        </nav>
        <button id="themeToggle" class="theme-toggle" aria-label="Toggle dark mode"><i class="fas fa-moon"></i></button>
    </header>

    <main>
        <div class="controls">
            <input type="text" id="searchInput" placeholder="ุจุญุซ ุจุฑูู ุงููุถูุฉุ ุงูููููุ ุฃู ุงูููุถูุน..." oninput="searchCases()">
            <button onclick="printReport()" class="action-btn print-btn">๐จ๏ธ ุทุจุงุนุฉ ุงูุชูุฑูุฑ</button>
            <button onclick="addNewCase()" class="action-btn add-btn">ุฅุถุงูุฉ ูุถูุฉ ุฌุฏูุฏุฉ</button>
        </div>

        <div class="cases-table-container">
            <h2>ุงููุถุงูุง ุงูููุชููุฉ (ุงูุฃุฑุดูู)</h2>
            
            <p id="noCasesMessage" class="no-cases-message" style="display:none;">ูุง ุชูุฌุฏ ูุถุงูุง ููุชููุฉ ุญุงููุงู ูู ุงูุฃุฑุดูู.</p>

            <table class="cases-table">
                <thead>
                    <tr>
                        <th>ุฑูู ุงููุถูุฉ</th>
                        <th>ุงุณู ุงููููู</th>
                        <th>ุงูููุถูุน</th>
                        <th>ุชุงุฑูุฎ ุงูุฌูุณุฉ</th>
                        <th>ุงูุญุงูุฉ</th>
                        <th>ุงูุฅุฌุฑุงุกุงุช</th>
                    </tr>
                </thead>
                <tbody id="casesTbody">
                    </tbody>
            </table>
        </div>
    </main>
    
    <footer class="fixed-footer">
        <p>&copy; 2024 ูุธุงู ุฅุฏุงุฑุฉ ุงููุถุงูุง. ุฌููุน ุงูุญููู ูุญููุธุฉ. ุชู ุงูุชุตููู ุจูุงุณุทุฉ: <span class="designer-name">ูููุงูู ูุฑูู</span></p>
    </footer>

    <div id="caseModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">ุฅุถุงูุฉ ูุถูุฉ ุฌุฏูุฏุฉ</h2>
            
            <form id="caseForm">
                <input type="hidden" id="caseId">
                
                <fieldset>
                    <legend>ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ</legend>
                    <label for="number">ุฑูู ุงููุถูุฉ:</label>
                    <input type="text" id="number" name="number" required>
                    
                    <label for="client">ุงุณู ุงููููู:</label>
                    <input type="text" id="client" name="client" required>
                    
                    <label for="subject">ููุถูุน ุงููุถูุฉ (ูุฎุชุตุฑ):</label>
                    <input type="text" id="subject" name="subject" required>
                </fieldset>

                <fieldset>
                    <legend>ุงูุชูุงุฑูุฎ ูุงูุญุงูุฉ ูุงูููุงุญุธุงุช</legend>
                    
                    <label for="nextDate">ุชุงุฑูุฎ ุงูุฌูุณุฉ ุงููุงุฏูุฉ:</label>
                    <input type="date" id="nextDate" name="nextDate" required>
                    
                    <label for="status">ุญุงูุฉ ุงููุถูุฉ:</label>
                    <select id="status" name="status">
                        <option value="active">ููุฏ ุงูุชูููุฐ</option>
                        <option value="pending">ูุคุฌูุฉ/ุงูุชุธุงุฑ</option>
                        <option value="closed">ููุชููุฉ</option>
                    </select>
                    
                    <label for="notes">ููุงุญุธุงุช ููุตูุฉ:</label>
                    <textarea id="notes" name="notes" rows="4"></textarea>
                </fieldset>
                
                <fieldset>
                    <legend>ุงูุชูููุฒ</legend>
                    <input type="checkbox" id="isFeatured" name="isFeatured" style="width: auto;">
                    <label for="isFeatured" style="display: inline; margin-right: 10px;">ุชูููุฒ ูุฐู ุงููุถูุฉ (ูุถูุฉ ุฐุงุช ุฃููููุฉ)</label>
                </fieldset>

                <fieldset class="payment-details">
                    <legend>ุชูุงุตูู ุงูุณุฏุงุฏ ูุงูุฑุณูู</legend>
                    
                    <label for="paymentStatus">ุญุงูุฉ ุงูุฑุณูู ุงููุถุงุฆูุฉ:</label>
                    <select id="paymentStatus" name="paymentStatus">
                        <option value="not_paid">ูู ุชูุณุฏุฏ ุจุนุฏ</option>
                        <option value="partially_paid">ุณูุฏุฏ ุฌุฒุก ูููุง</option>
                        <option value="fully_paid">ุณูุฏุฏุช ุจุงููุงูู</option>
                        <option value="not_applicable">ุบูุฑ ูุทุจูุฉ</option>
                    </select>
                </fieldset>
                
                <button type="submit" id="saveButton" class="action-btn">ุญูุธ ุงููุถูุฉ</button>
            </form>
        </div>
    </div>

    <div id="caseDetailsPopover" class="popover">
        <div class="popover-content">
            <span class="close-popover" onclick="closePopover()">&times;</span>
            <h3 id="popoverTitle">ุชูุงุตูู ุงููุถูุฉ</h3>
            <p><strong>ุฑูู ุงููุถูุฉ:</strong> <span id="popoverNumber"></span></p>
            <p><strong>ุงูููุถูุน:</strong> <span id="popoverSubject"></span></p>
            <p><strong>ุชุงุฑูุฎ ุงูุฌูุณุฉ:</strong> <span id="popoverNextDate"></span></p>
            <p><strong>ุงูุญุงูุฉ:</strong> <span id="popoverStatus"></span></p>
            
            <h4 class="detail-header">๐ ุชูุงุตูู ุงูุณุฏุงุฏ:</h4>
            <p><strong>ุญุงูุฉ ุงูุฑุณูู:</strong> <span id="popoverPaymentStatus"></span></p>
            
            <h4 class="detail-header">๐ ุงูููุงุญุธุงุช:</h4>
            <p id="popoverNotes"></p>
            <button class="action-btn-table edit-btn" id="popoverEditButton">ุชุนุฏูู ุงููุถูุฉ</button>
        </div>
    </div>
    
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

    <script src="script.js"></script>
</body>
</html>
